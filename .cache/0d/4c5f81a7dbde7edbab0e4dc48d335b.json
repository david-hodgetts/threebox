{"id":"../src/camera/cameraSync.js","dependencies":[{"name":"/home/david/js/threebox/package.json","includedInParent":true,"mtime":1604698838150},{"name":"three","loc":{"line":2,"column":31},"parent":"/home/david/js/threebox/src/camera/cameraSync.js","resolved":"/home/david/js/threebox/node_modules/three/build/three.module.js"},{"name":"../utils/utils.js","loc":{"line":4,"column":18},"parent":"/home/david/js/threebox/src/camera/cameraSync.js","resolved":"/home/david/js/threebox/src/utils/utils.js"},{"name":"../utils/constants.js","loc":{"line":6,"column":32},"parent":"/home/david/js/threebox/src/camera/cameraSync.js","resolved":"/home/david/js/threebox/src/utils/constants.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = CameraSync;\n\nvar _three = require(\"three\");\n\nvar _utils = _interopRequireDefault(require(\"../utils/utils.js\"));\n\nvar _constants = _interopRequireDefault(require(\"../utils/constants.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction CameraSync(map, camera, world) {\n  this.map = map;\n  this.camera = camera;\n  this.active = true;\n  this.camera.matrixAutoUpdate = false; // We're in charge of the camera now!\n  // Postion and configure the world group so we can scale it appropriately when the camera zooms\n\n  this.world = world || new _three.Group();\n  this.world.position.x = this.world.position.y = _constants.default.WORLD_SIZE / 2;\n  this.world.matrixAutoUpdate = false; // set up basic camera state\n\n  this.state = {\n    fov: _constants.default.FOV,\n    translateCenter: new _three.Matrix4().makeTranslation(_constants.default.WORLD_SIZE / 2, -_constants.default.WORLD_SIZE / 2, 0),\n    worldSizeRatio: _constants.default.TILE_SIZE / _constants.default.WORLD_SIZE\n  }; // Listen for move events from the map and update the js camera\n\n  var _this = this;\n\n  this.map.on('move', function () {\n    _this.updateCamera();\n  }).on('resize', function () {\n    _this.setupCamera();\n  });\n  this.setupCamera();\n}\n\nCameraSync.prototype = {\n  setupCamera: function () {\n    const t = this.map.transform;\n    this.camera.aspect = t.width / t.height; //bug fixed, if aspect is not reset raycast will fail on map resize\n\n    this.camera.updateProjectionMatrix();\n    const halfFov = this.state.fov / 2;\n    const offset = {\n      x: t.width / 2,\n      y: t.height / 2\n    }; //t.centerOffset;\n\n    const cameraToCenterDistance = 0.5 / Math.tan(halfFov) * t.height;\n    const maxPitch = t._maxPitch * Math.PI / 180;\n    const acuteAngle = Math.PI / 2 - maxPitch;\n    this.state.cameraToCenterDistance = cameraToCenterDistance;\n    this.state.offset = offset;\n    this.state.cameraTranslateZ = new _three.Matrix4().makeTranslation(0, 0, cameraToCenterDistance);\n    this.state.maxFurthestDistance = cameraToCenterDistance * 0.95 * (Math.cos(acuteAngle) * Math.sin(halfFov) / Math.sin(Math.max(0.01, Math.min(Math.PI - 0.01, acuteAngle - halfFov))) + 1);\n    this.updateCamera();\n  },\n  updateCamera: function (ev) {\n    if (!this.camera) {\n      console.log('nocamera');\n      return;\n    } // Furthest distance optimized by @satorbs\n    // https://github.com/satorbs/threebox/blob/master/src/camera/CameraSync.js\n\n\n    const t = this.map.transform;\n    const groundAngle = Math.PI / 2 + t._pitch;\n    const fovAboveCenter = this.state.fov * (0.5 + this.state.offset.y / t.height);\n    const topHalfSurfaceDistance = Math.sin(fovAboveCenter) * this.state.cameraToCenterDistance / Math.sin(_utils.default.clamp(Math.PI - groundAngle - fovAboveCenter, 0.01, Math.PI - 0.01)); // Calculate z distance of the farthest fragment that should be rendered.\n\n    const furthestDistance = Math.cos(Math.PI / 2 - t._pitch) * topHalfSurfaceDistance + this.state.cameraToCenterDistance; // Add a bit extra to avoid precision problems when a fragment's distance is exactly `furthestDistance`\n\n    const farZ = Math.min(furthestDistance * 1.01, this.state.maxFurthestDistance); // someday @ansis set further near plane to fix precision for deckgl,so we should fix it to use mapbox-gl v1.3+ correctly\n    // https://github.com/mapbox/mapbox-gl-js/commit/5cf6e5f523611bea61dae155db19a7cb19eb825c#diff-5dddfe9d7b5b4413ee54284bc1f7966d\n\n    const nearZ = t.height / 50;\n    this.camera.projectionMatrix = _utils.default.makePerspectiveMatrix(this.state.fov, t.width / t.height, nearZ, farZ); // Unlike the Mapbox GL JS camera, separate camera translation and rotation out into its world matrix\n    // If this is applied directly to the projection matrix, it will work OK but break raycasting\n\n    var cameraWorldMatrix = this.calcCameraMatrix(t._pitch, t.angle);\n    this.camera.matrixWorld.copy(cameraWorldMatrix);\n    var zoomPow = t.scale * this.state.worldSizeRatio; // Handle scaling and translation of objects in the map in the world's matrix transform, not the camera\n\n    var scale = new _three.Matrix4();\n    var translateMap = new _three.Matrix4();\n    var rotateMap = new _three.Matrix4();\n    scale.makeScale(zoomPow, zoomPow, zoomPow);\n    var x = t.x || t.point.x;\n    var y = t.y || t.point.y;\n    translateMap.makeTranslation(-x, y, 0);\n    rotateMap.makeRotationZ(Math.PI);\n    this.world.matrix = new _three.Matrix4().premultiply(rotateMap).premultiply(this.state.translateCenter).premultiply(scale).premultiply(translateMap); // utils.prettyPrintMatrix(this.camera.projectionMatrix.elements);\n  },\n\n  calcCameraMatrix(pitch, angle, trz) {\n    const t = this.map.transform;\n\n    const _pitch = pitch === undefined ? t._pitch : pitch;\n\n    const _angle = angle === undefined ? t.angle : angle;\n\n    const _trz = trz === undefined ? this.state.cameraTranslateZ : trz;\n\n    return new _three.Matrix4().premultiply(_trz).premultiply(new _three.Matrix4().makeRotationX(_pitch)).premultiply(new _three.Matrix4().makeRotationZ(_angle));\n  }\n\n};"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":2,"column":0}},{"generated":{"line":10,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":4,"column":0}},{"generated":{"line":12,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":6,"column":0}},{"generated":{"line":16,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":15}},{"name":"CameraSync","generated":{"line":16,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":24}},{"generated":{"line":16,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":15}},{"name":"map","generated":{"line":16,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":35}},{"generated":{"line":16,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":15}},{"name":"camera","generated":{"line":16,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":40}},{"generated":{"line":16,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":15}},{"name":"world","generated":{"line":16,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":48}},{"generated":{"line":16,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":15}},{"generated":{"line":16,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":55}},{"generated":{"line":17,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":9,"column":4}},{"name":"map","generated":{"line":17,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":9,"column":9}},{"generated":{"line":17,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":9,"column":4}},{"name":"map","generated":{"line":17,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":9,"column":15}},{"generated":{"line":17,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":9,"column":4}},{"generated":{"line":18,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":10,"column":4}},{"name":"camera","generated":{"line":18,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":10,"column":9}},{"generated":{"line":18,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":10,"column":4}},{"name":"camera","generated":{"line":18,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":10,"column":18}},{"generated":{"line":18,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":10,"column":4}},{"generated":{"line":19,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":11,"column":4}},{"name":"active","generated":{"line":19,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":11,"column":9}},{"generated":{"line":19,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":11,"column":4}},{"generated":{"line":19,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":11,"column":18}},{"generated":{"line":19,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":11,"column":4}},{"generated":{"line":20,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":4}},{"name":"camera","generated":{"line":20,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":9}},{"generated":{"line":20,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":4}},{"name":"matrixAutoUpdate","generated":{"line":20,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":16}},{"generated":{"line":20,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":4}},{"generated":{"line":20,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":35}},{"generated":{"line":20,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":4}},{"generated":{"line":20,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":55}},{"generated":{"line":20,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":13,"column":44}},{"generated":{"line":21,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":15,"column":4}},{"generated":{"line":23,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":4}},{"name":"world","generated":{"line":23,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":9}},{"generated":{"line":23,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":4}},{"name":"world","generated":{"line":23,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":17}},{"generated":{"line":23,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":22}},{"generated":{"line":23,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":26}},{"name":"Group","generated":{"line":23,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":30}},{"generated":{"line":23,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":26}},{"generated":{"line":23,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":16,"column":4}},{"generated":{"line":24,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":4}},{"name":"world","generated":{"line":24,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":9}},{"generated":{"line":24,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":4}},{"name":"position","generated":{"line":24,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":15}},{"generated":{"line":24,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":4}},{"name":"x","generated":{"line":24,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":24}},{"generated":{"line":24,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":4}},{"generated":{"line":24,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":28}},{"name":"world","generated":{"line":24,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":33}},{"generated":{"line":24,"column":36},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":28}},{"name":"position","generated":{"line":24,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":39}},{"generated":{"line":24,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":28}},{"name":"y","generated":{"line":24,"column":46},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":48}},{"generated":{"line":24,"column":47},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":28}},{"name":"ThreeboxConstants","generated":{"line":24,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":52}},{"name":"WORLD_SIZE","generated":{"line":24,"column":69},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":70}},{"generated":{"line":24,"column":79},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":52}},{"generated":{"line":24,"column":82},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":83}},{"generated":{"line":24,"column":83},"source":"../src/camera/cameraSync.js","original":{"line":17,"column":4}},{"generated":{"line":25,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":4}},{"name":"world","generated":{"line":25,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":9}},{"generated":{"line":25,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":4}},{"name":"matrixAutoUpdate","generated":{"line":25,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":15}},{"generated":{"line":25,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":4}},{"generated":{"line":25,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":34}},{"generated":{"line":25,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":18,"column":4}},{"generated":{"line":25,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":55}},{"generated":{"line":25,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":20,"column":4}},{"generated":{"line":27,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":4}},{"name":"state","generated":{"line":27,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":9}},{"generated":{"line":27,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":4}},{"generated":{"line":27,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":17}},{"name":"fov","generated":{"line":28,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":22,"column":8}},{"name":"fov","generated":{"line":28,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":22,"column":8}},{"generated":{"line":28,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":22,"column":11}},{"name":"ThreeboxConstants","generated":{"line":28,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":22,"column":13}},{"name":"FOV","generated":{"line":28,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":22,"column":31}},{"generated":{"line":28,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":17}},{"name":"translateCenter","generated":{"line":29,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":8}},{"name":"translateCenter","generated":{"line":29,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":8}},{"generated":{"line":29,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":23}},{"generated":{"line":29,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"name":"Matrix4","generated":{"line":29,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":29}},{"generated":{"line":29,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"name":"makeTranslation","generated":{"line":29,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":39}},{"generated":{"line":29,"column":57},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"name":"ThreeboxConstants","generated":{"line":29,"column":58},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":55}},{"name":"WORLD_SIZE","generated":{"line":29,"column":77},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":73}},{"generated":{"line":29,"column":87},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":55}},{"generated":{"line":29,"column":90},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":86}},{"generated":{"line":29,"column":91},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"generated":{"line":29,"column":93},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":89}},{"name":"ThreeboxConstants","generated":{"line":29,"column":94},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":90}},{"name":"WORLD_SIZE","generated":{"line":29,"column":113},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":108}},{"generated":{"line":29,"column":123},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":89}},{"generated":{"line":29,"column":126},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":121}},{"generated":{"line":29,"column":127},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"generated":{"line":29,"column":129},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":124}},{"generated":{"line":29,"column":130},"source":"../src/camera/cameraSync.js","original":{"line":23,"column":25}},{"generated":{"line":29,"column":131},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":17}},{"name":"worldSizeRatio","generated":{"line":30,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":8}},{"name":"worldSizeRatio","generated":{"line":30,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":8}},{"generated":{"line":30,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":22}},{"name":"ThreeboxConstants","generated":{"line":30,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":24}},{"name":"TILE_SIZE","generated":{"line":30,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":42}},{"generated":{"line":30,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":24}},{"name":"ThreeboxConstants","generated":{"line":30,"column":51},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":54}},{"name":"WORLD_SIZE","generated":{"line":30,"column":70},"source":"../src/camera/cameraSync.js","original":{"line":24,"column":72}},{"generated":{"line":31,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":17}},{"generated":{"line":31,"column":3},"source":"../src/camera/cameraSync.js","original":{"line":21,"column":4}},{"generated":{"line":31,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":8,"column":55}},{"generated":{"line":31,"column":5},"source":"../src/camera/cameraSync.js","original":{"line":27,"column":4}},{"generated":{"line":33,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":28,"column":4}},{"name":"_this","generated":{"line":33,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":28,"column":8}},{"generated":{"line":33,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":28,"column":13}},{"generated":{"line":33,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":28,"column":16}},{"generated":{"line":33,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":28,"column":4}},{"generated":{"line":35,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"name":"map","generated":{"line":35,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":9}},{"generated":{"line":35,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"name":"on","generated":{"line":35,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":30,"column":9}},{"generated":{"line":35,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"generated":{"line":35,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":30,"column":12}},{"generated":{"line":35,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"generated":{"line":35,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":30,"column":20}},{"generated":{"line":35,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":30,"column":32}},{"name":"_this","generated":{"line":36,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":31,"column":12}},{"name":"_this","generated":{"line":36,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":31,"column":12}},{"generated":{"line":36,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":31,"column":17}},{"name":"updateCamera","generated":{"line":36,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":31,"column":18}},{"generated":{"line":36,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":31,"column":12}},{"generated":{"line":37,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":32,"column":9}},{"generated":{"line":37,"column":3},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"name":"on","generated":{"line":37,"column":5},"source":"../src/camera/cameraSync.js","original":{"line":33,"column":9}},{"generated":{"line":37,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"generated":{"line":37,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":33,"column":12}},{"generated":{"line":37,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"generated":{"line":37,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":33,"column":22}},{"generated":{"line":37,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":33,"column":34}},{"name":"_this","generated":{"line":38,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":34,"column":12}},{"name":"_this","generated":{"line":38,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":34,"column":12}},{"generated":{"line":38,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":34,"column":17}},{"name":"setupCamera","generated":{"line":38,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":34,"column":18}},{"generated":{"line":38,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":34,"column":12}},{"generated":{"line":39,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":35,"column":9}},{"generated":{"line":39,"column":3},"source":"../src/camera/cameraSync.js","original":{"line":29,"column":4}},{"generated":{"line":40,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":37,"column":4}},{"name":"setupCamera","generated":{"line":40,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":37,"column":9}},{"generated":{"line":40,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":37,"column":4}},{"generated":{"line":41,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":38,"column":1}},{"name":"CameraSync","generated":{"line":43,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":0}},{"generated":{"line":43,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":10}},{"name":"prototype","generated":{"line":43,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":11}},{"generated":{"line":43,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":0}},{"generated":{"line":43,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":23}},{"name":"setupCamera","generated":{"line":44,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":4}},{"name":"setupCamera","generated":{"line":44,"column":2},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":4}},{"generated":{"line":44,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":15}},{"generated":{"line":44,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":17}},{"generated":{"line":44,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":29}},{"generated":{"line":45,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":8}},{"name":"t","generated":{"line":45,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":14}},{"generated":{"line":45,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":15}},{"generated":{"line":45,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":18}},{"name":"map","generated":{"line":45,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":23}},{"generated":{"line":45,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":18}},{"name":"transform","generated":{"line":45,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":27}},{"generated":{"line":45,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":43,"column":8}},{"generated":{"line":46,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":8}},{"name":"camera","generated":{"line":46,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":13}},{"generated":{"line":46,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":8}},{"name":"aspect","generated":{"line":46,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":20}},{"generated":{"line":46,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":8}},{"name":"t","generated":{"line":46,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":29}},{"generated":{"line":46,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":30}},{"name":"width","generated":{"line":46,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":31}},{"generated":{"line":46,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":29}},{"name":"t","generated":{"line":46,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":39}},{"generated":{"line":46,"column":36},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":40}},{"name":"height","generated":{"line":46,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":41}},{"generated":{"line":46,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":8}},{"generated":{"line":46,"column":44},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":29}},{"generated":{"line":46,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":44,"column":49}},{"generated":{"line":48,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":45,"column":8}},{"name":"camera","generated":{"line":48,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":45,"column":13}},{"generated":{"line":48,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":45,"column":8}},{"name":"updateProjectionMatrix","generated":{"line":48,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":45,"column":20}},{"generated":{"line":48,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":45,"column":8}},{"generated":{"line":49,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":8}},{"name":"halfFov","generated":{"line":49,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":14}},{"generated":{"line":49,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":21}},{"generated":{"line":49,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":24}},{"name":"state","generated":{"line":49,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":29}},{"generated":{"line":49,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":24}},{"name":"fov","generated":{"line":49,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":35}},{"generated":{"line":49,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":24}},{"generated":{"line":49,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":41}},{"generated":{"line":49,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":46,"column":8}},{"generated":{"line":50,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":8}},{"name":"offset","generated":{"line":50,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":14}},{"generated":{"line":50,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":20}},{"generated":{"line":50,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":23}},{"name":"x","generated":{"line":51,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":25}},{"name":"x","generated":{"line":51,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":25}},{"generated":{"line":51,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":26}},{"name":"t","generated":{"line":51,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":28}},{"generated":{"line":51,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":29}},{"name":"width","generated":{"line":51,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":30}},{"generated":{"line":51,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":28}},{"generated":{"line":51,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":38}},{"generated":{"line":51,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":23}},{"name":"y","generated":{"line":52,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":41}},{"name":"y","generated":{"line":52,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":41}},{"generated":{"line":52,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":42}},{"name":"t","generated":{"line":52,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":44}},{"generated":{"line":52,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":45}},{"name":"height","generated":{"line":52,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":46}},{"generated":{"line":52,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":44}},{"generated":{"line":52,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":55}},{"generated":{"line":53,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":23}},{"generated":{"line":53,"column":5},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":8}},{"generated":{"line":53,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":41,"column":29}},{"generated":{"line":53,"column":7},"source":"../src/camera/cameraSync.js","original":{"line":47,"column":59}},{"generated":{"line":55,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":8}},{"name":"cameraToCenterDistance","generated":{"line":55,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":14}},{"generated":{"line":55,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":36}},{"generated":{"line":55,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":39}},{"name":"Math","generated":{"line":55,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":45}},{"generated":{"line":55,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":49}},{"name":"tan","generated":{"line":55,"column":46},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":50}},{"generated":{"line":55,"column":49},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":45}},{"name":"halfFov","generated":{"line":55,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":54}},{"generated":{"line":55,"column":57},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":45}},{"generated":{"line":55,"column":58},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":39}},{"name":"t","generated":{"line":55,"column":61},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":65}},{"generated":{"line":55,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":66}},{"name":"height","generated":{"line":55,"column":63},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":67}},{"generated":{"line":55,"column":69},"source":"../src/camera/cameraSync.js","original":{"line":48,"column":8}},{"generated":{"line":56,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":8}},{"name":"maxPitch","generated":{"line":56,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":14}},{"generated":{"line":56,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":22}},{"name":"t","generated":{"line":56,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":25}},{"generated":{"line":56,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":26}},{"name":"_maxPitch","generated":{"line":56,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":27}},{"generated":{"line":56,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":25}},{"name":"Math","generated":{"line":56,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":39}},{"generated":{"line":56,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":43}},{"name":"PI","generated":{"line":56,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":44}},{"generated":{"line":56,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":25}},{"generated":{"line":56,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":49}},{"generated":{"line":56,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":49,"column":8}},{"generated":{"line":57,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":8}},{"name":"acuteAngle","generated":{"line":57,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":14}},{"generated":{"line":57,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":24}},{"name":"Math","generated":{"line":57,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":27}},{"generated":{"line":57,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":31}},{"name":"PI","generated":{"line":57,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":32}},{"generated":{"line":57,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":27}},{"generated":{"line":57,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":37}},{"generated":{"line":57,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":27}},{"name":"maxPitch","generated":{"line":57,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":41}},{"generated":{"line":57,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":50,"column":8}},{"generated":{"line":58,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":8}},{"name":"state","generated":{"line":58,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":13}},{"generated":{"line":58,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":8}},{"name":"cameraToCenterDistance","generated":{"line":58,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":19}},{"generated":{"line":58,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":8}},{"name":"cameraToCenterDistance","generated":{"line":58,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":44}},{"generated":{"line":58,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":52,"column":8}},{"generated":{"line":59,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":8}},{"name":"state","generated":{"line":59,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":13}},{"generated":{"line":59,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":8}},{"name":"offset","generated":{"line":59,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":19}},{"generated":{"line":59,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":8}},{"name":"offset","generated":{"line":59,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":28}},{"generated":{"line":59,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":53,"column":8}},{"generated":{"line":60,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":8}},{"name":"state","generated":{"line":60,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":13}},{"generated":{"line":60,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":8}},{"name":"cameraTranslateZ","generated":{"line":60,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":19}},{"generated":{"line":60,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":8}},{"generated":{"line":60,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"name":"Matrix4","generated":{"line":60,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":42}},{"generated":{"line":60,"column":52},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"name":"makeTranslation","generated":{"line":60,"column":55},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":52}},{"generated":{"line":60,"column":70},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"generated":{"line":60,"column":71},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":68}},{"generated":{"line":60,"column":72},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"generated":{"line":60,"column":74},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":71}},{"generated":{"line":60,"column":75},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"name":"cameraToCenterDistance","generated":{"line":60,"column":77},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":74}},{"generated":{"line":60,"column":99},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":38}},{"generated":{"line":60,"column":100},"source":"../src/camera/cameraSync.js","original":{"line":54,"column":8}},{"generated":{"line":61,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":8}},{"name":"state","generated":{"line":61,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":13}},{"generated":{"line":61,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":8}},{"name":"maxFurthestDistance","generated":{"line":61,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":19}},{"generated":{"line":61,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":8}},{"name":"cameraToCenterDistance","generated":{"line":61,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":41}},{"generated":{"line":61,"column":59},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":63}},{"generated":{"line":61,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":66}},{"generated":{"line":61,"column":66},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":41}},{"name":"Math","generated":{"line":61,"column":70},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":74}},{"generated":{"line":61,"column":74},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":78}},{"name":"cos","generated":{"line":61,"column":75},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":79}},{"generated":{"line":61,"column":78},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":74}},{"name":"acuteAngle","generated":{"line":61,"column":79},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":83}},{"generated":{"line":61,"column":89},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":74}},{"name":"Math","generated":{"line":61,"column":93},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":97}},{"generated":{"line":61,"column":97},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":101}},{"name":"sin","generated":{"line":61,"column":98},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":102}},{"generated":{"line":61,"column":101},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":97}},{"name":"halfFov","generated":{"line":61,"column":102},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":106}},{"generated":{"line":61,"column":109},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":97}},{"generated":{"line":61,"column":110},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":74}},{"name":"Math","generated":{"line":61,"column":113},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":117}},{"generated":{"line":61,"column":117},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":121}},{"name":"sin","generated":{"line":61,"column":118},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":122}},{"generated":{"line":61,"column":121},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":117}},{"name":"Math","generated":{"line":61,"column":122},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":126}},{"generated":{"line":61,"column":126},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":130}},{"name":"max","generated":{"line":61,"column":127},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":131}},{"generated":{"line":61,"column":130},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":126}},{"generated":{"line":61,"column":131},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":135}},{"generated":{"line":61,"column":135},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":126}},{"name":"Math","generated":{"line":61,"column":137},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":141}},{"generated":{"line":61,"column":141},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":145}},{"name":"min","generated":{"line":61,"column":142},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":146}},{"generated":{"line":61,"column":145},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":141}},{"name":"Math","generated":{"line":61,"column":146},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":150}},{"generated":{"line":61,"column":150},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":154}},{"name":"PI","generated":{"line":61,"column":151},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":155}},{"generated":{"line":61,"column":153},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":150}},{"generated":{"line":61,"column":156},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":160}},{"generated":{"line":61,"column":160},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":141}},{"name":"acuteAngle","generated":{"line":61,"column":162},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":166}},{"generated":{"line":61,"column":172},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":176}},{"name":"halfFov","generated":{"line":61,"column":175},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":179}},{"generated":{"line":61,"column":182},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":141}},{"generated":{"line":61,"column":183},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":126}},{"generated":{"line":61,"column":184},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":117}},{"generated":{"line":61,"column":185},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":74}},{"generated":{"line":61,"column":188},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":192}},{"generated":{"line":61,"column":189},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":41}},{"generated":{"line":61,"column":190},"source":"../src/camera/cameraSync.js","original":{"line":55,"column":8}},{"generated":{"line":62,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":57,"column":8}},{"name":"updateCamera","generated":{"line":62,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":57,"column":13}},{"generated":{"line":62,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":57,"column":8}},{"generated":{"line":63,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":58,"column":5}},{"generated":{"line":63,"column":3},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":23}},{"name":"updateCamera","generated":{"line":64,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":4}},{"name":"updateCamera","generated":{"line":64,"column":2},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":4}},{"generated":{"line":64,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":16}},{"generated":{"line":64,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":18}},{"name":"ev","generated":{"line":64,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":28}},{"generated":{"line":64,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":18}},{"generated":{"line":64,"column":30},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":65,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":8}},{"generated":{"line":65,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":12}},{"generated":{"line":65,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":13}},{"name":"camera","generated":{"line":65,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":18}},{"generated":{"line":65,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":8}},{"generated":{"line":65,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":61,"column":26}},{"name":"console","generated":{"line":66,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":12}},{"name":"console","generated":{"line":66,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":12}},{"generated":{"line":66,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":19}},{"name":"log","generated":{"line":66,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":20}},{"generated":{"line":66,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":12}},{"generated":{"line":66,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":24}},{"generated":{"line":66,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":62,"column":12}},{"generated":{"line":67,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":63,"column":12}},{"generated":{"line":68,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":64,"column":9}},{"generated":{"line":68,"column":5},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":68,"column":6},"source":"../src/camera/cameraSync.js","original":{"line":66,"column":8}},{"generated":{"line":69,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":67,"column":8}},{"generated":{"line":72,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":8}},{"name":"t","generated":{"line":72,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":14}},{"generated":{"line":72,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":15}},{"generated":{"line":72,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":18}},{"name":"map","generated":{"line":72,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":23}},{"generated":{"line":72,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":18}},{"name":"transform","generated":{"line":72,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":27}},{"generated":{"line":72,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":68,"column":8}},{"generated":{"line":73,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":8}},{"name":"groundAngle","generated":{"line":73,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":14}},{"generated":{"line":73,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":25}},{"name":"Math","generated":{"line":73,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":28}},{"generated":{"line":73,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":32}},{"name":"PI","generated":{"line":73,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":33}},{"generated":{"line":73,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":28}},{"generated":{"line":73,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":38}},{"generated":{"line":73,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":28}},{"name":"t","generated":{"line":73,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":42}},{"generated":{"line":73,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":43}},{"name":"_pitch","generated":{"line":73,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":44}},{"generated":{"line":73,"column":46},"source":"../src/camera/cameraSync.js","original":{"line":69,"column":8}},{"generated":{"line":74,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":8}},{"name":"fovAboveCenter","generated":{"line":74,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":14}},{"generated":{"line":74,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":28}},{"generated":{"line":74,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":31}},{"name":"state","generated":{"line":74,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":36}},{"generated":{"line":74,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":31}},{"name":"fov","generated":{"line":74,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":42}},{"generated":{"line":74,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":31}},{"generated":{"line":74,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":49}},{"generated":{"line":74,"column":51},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":55}},{"name":"state","generated":{"line":74,"column":56},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":60}},{"generated":{"line":74,"column":61},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":55}},{"name":"offset","generated":{"line":74,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":66}},{"generated":{"line":74,"column":68},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":55}},{"name":"y","generated":{"line":74,"column":69},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":73}},{"generated":{"line":74,"column":70},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":55}},{"name":"t","generated":{"line":74,"column":73},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":77}},{"generated":{"line":74,"column":74},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":78}},{"name":"height","generated":{"line":74,"column":75},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":79}},{"generated":{"line":74,"column":81},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":31}},{"generated":{"line":74,"column":82},"source":"../src/camera/cameraSync.js","original":{"line":70,"column":8}},{"generated":{"line":75,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":8}},{"name":"topHalfSurfaceDistance","generated":{"line":75,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":14}},{"generated":{"line":75,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":36}},{"name":"Math","generated":{"line":75,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":39}},{"generated":{"line":75,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":43}},{"name":"sin","generated":{"line":75,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":44}},{"generated":{"line":75,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":39}},{"name":"fovAboveCenter","generated":{"line":75,"column":44},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":48}},{"generated":{"line":75,"column":58},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":39}},{"generated":{"line":75,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":66}},{"name":"state","generated":{"line":75,"column":67},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":71}},{"generated":{"line":75,"column":72},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":66}},{"name":"cameraToCenterDistance","generated":{"line":75,"column":73},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":77}},{"generated":{"line":75,"column":95},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":39}},{"name":"Math","generated":{"line":75,"column":98},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":102}},{"generated":{"line":75,"column":102},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":106}},{"name":"sin","generated":{"line":75,"column":103},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":107}},{"generated":{"line":75,"column":106},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":102}},{"name":"utils","generated":{"line":75,"column":107},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":111}},{"name":"clamp","generated":{"line":75,"column":122},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":117}},{"generated":{"line":75,"column":127},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":111}},{"name":"Math","generated":{"line":75,"column":128},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":123}},{"generated":{"line":75,"column":132},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":127}},{"name":"PI","generated":{"line":75,"column":133},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":128}},{"generated":{"line":75,"column":135},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":123}},{"name":"groundAngle","generated":{"line":75,"column":138},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":133}},{"generated":{"line":75,"column":149},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":123}},{"name":"fovAboveCenter","generated":{"line":75,"column":152},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":147}},{"generated":{"line":75,"column":166},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":111}},{"generated":{"line":75,"column":168},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":163}},{"generated":{"line":75,"column":172},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":111}},{"name":"Math","generated":{"line":75,"column":174},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":169}},{"generated":{"line":75,"column":178},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":173}},{"name":"PI","generated":{"line":75,"column":179},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":174}},{"generated":{"line":75,"column":181},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":169}},{"generated":{"line":75,"column":184},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":179}},{"generated":{"line":75,"column":188},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":111}},{"generated":{"line":75,"column":189},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":102}},{"generated":{"line":75,"column":190},"source":"../src/camera/cameraSync.js","original":{"line":71,"column":8}},{"generated":{"line":75,"column":191},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":75,"column":192},"source":"../src/camera/cameraSync.js","original":{"line":73,"column":8}},{"generated":{"line":77,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":8}},{"name":"furthestDistance","generated":{"line":77,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":14}},{"generated":{"line":77,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":30}},{"name":"Math","generated":{"line":77,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":33}},{"generated":{"line":77,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":37}},{"name":"cos","generated":{"line":77,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":38}},{"generated":{"line":77,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":33}},{"name":"Math","generated":{"line":77,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":42}},{"generated":{"line":77,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":46}},{"name":"PI","generated":{"line":77,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":47}},{"generated":{"line":77,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":42}},{"generated":{"line":77,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":52}},{"generated":{"line":77,"column":49},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":42}},{"name":"t","generated":{"line":77,"column":52},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":56}},{"generated":{"line":77,"column":53},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":57}},{"name":"_pitch","generated":{"line":77,"column":54},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":58}},{"generated":{"line":77,"column":60},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":33}},{"name":"topHalfSurfaceDistance","generated":{"line":77,"column":64},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":68}},{"generated":{"line":77,"column":86},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":33}},{"generated":{"line":77,"column":89},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":93}},{"name":"state","generated":{"line":77,"column":94},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":98}},{"generated":{"line":77,"column":99},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":93}},{"name":"cameraToCenterDistance","generated":{"line":77,"column":100},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":104}},{"generated":{"line":77,"column":122},"source":"../src/camera/cameraSync.js","original":{"line":74,"column":8}},{"generated":{"line":77,"column":123},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":77,"column":124},"source":"../src/camera/cameraSync.js","original":{"line":76,"column":8}},{"generated":{"line":79,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":8}},{"name":"farZ","generated":{"line":79,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":14}},{"generated":{"line":79,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":18}},{"name":"Math","generated":{"line":79,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":21}},{"generated":{"line":79,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":25}},{"name":"min","generated":{"line":79,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":26}},{"generated":{"line":79,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":21}},{"name":"furthestDistance","generated":{"line":79,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":30}},{"generated":{"line":79,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":46}},{"generated":{"line":79,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":49}},{"generated":{"line":79,"column":49},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":21}},{"generated":{"line":79,"column":51},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":55}},{"name":"state","generated":{"line":79,"column":56},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":60}},{"generated":{"line":79,"column":61},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":55}},{"name":"maxFurthestDistance","generated":{"line":79,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":66}},{"generated":{"line":79,"column":81},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":21}},{"generated":{"line":79,"column":82},"source":"../src/camera/cameraSync.js","original":{"line":77,"column":8}},{"generated":{"line":79,"column":83},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":79,"column":84},"source":"../src/camera/cameraSync.js","original":{"line":79,"column":8}},{"generated":{"line":80,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":80,"column":8}},{"generated":{"line":82,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":8}},{"name":"nearZ","generated":{"line":82,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":14}},{"generated":{"line":82,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":19}},{"name":"t","generated":{"line":82,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":23}},{"generated":{"line":82,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":24}},{"name":"height","generated":{"line":82,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":25}},{"generated":{"line":82,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":23}},{"generated":{"line":82,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":34}},{"generated":{"line":82,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":81,"column":8}},{"generated":{"line":83,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":8}},{"name":"camera","generated":{"line":83,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":13}},{"generated":{"line":83,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":8}},{"name":"projectionMatrix","generated":{"line":83,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":20}},{"generated":{"line":83,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":8}},{"name":"utils","generated":{"line":83,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"name":"makePerspectiveMatrix","generated":{"line":83,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":45}},{"generated":{"line":83,"column":71},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"generated":{"line":83,"column":72},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":67}},{"name":"state","generated":{"line":83,"column":77},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":72}},{"generated":{"line":83,"column":82},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":67}},{"name":"fov","generated":{"line":83,"column":83},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":78}},{"generated":{"line":83,"column":86},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"name":"t","generated":{"line":83,"column":88},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":83}},{"generated":{"line":83,"column":89},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":84}},{"name":"width","generated":{"line":83,"column":90},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":85}},{"generated":{"line":83,"column":95},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":83}},{"name":"t","generated":{"line":83,"column":98},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":93}},{"generated":{"line":83,"column":99},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":94}},{"name":"height","generated":{"line":83,"column":100},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":95}},{"generated":{"line":83,"column":106},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"name":"nearZ","generated":{"line":83,"column":108},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":103}},{"generated":{"line":83,"column":113},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"name":"farZ","generated":{"line":83,"column":115},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":110}},{"generated":{"line":83,"column":119},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":39}},{"generated":{"line":83,"column":120},"source":"../src/camera/cameraSync.js","original":{"line":83,"column":8}},{"generated":{"line":83,"column":121},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":83,"column":122},"source":"../src/camera/cameraSync.js","original":{"line":85,"column":8}},{"generated":{"line":84,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":86,"column":8}},{"generated":{"line":86,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":8}},{"name":"cameraWorldMatrix","generated":{"line":86,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":12}},{"generated":{"line":86,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":29}},{"generated":{"line":86,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":32}},{"name":"calcCameraMatrix","generated":{"line":86,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":37}},{"generated":{"line":86,"column":49},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":32}},{"name":"t","generated":{"line":86,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":54}},{"generated":{"line":86,"column":51},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":55}},{"name":"_pitch","generated":{"line":86,"column":52},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":56}},{"generated":{"line":86,"column":58},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":32}},{"name":"t","generated":{"line":86,"column":60},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":64}},{"generated":{"line":86,"column":61},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":65}},{"name":"angle","generated":{"line":86,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":66}},{"generated":{"line":86,"column":67},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":32}},{"generated":{"line":86,"column":68},"source":"../src/camera/cameraSync.js","original":{"line":87,"column":8}},{"generated":{"line":87,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":8}},{"name":"camera","generated":{"line":87,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":13}},{"generated":{"line":87,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":8}},{"name":"matrixWorld","generated":{"line":87,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":20}},{"generated":{"line":87,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":8}},{"name":"copy","generated":{"line":87,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":32}},{"generated":{"line":87,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":8}},{"name":"cameraWorldMatrix","generated":{"line":87,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":37}},{"generated":{"line":87,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":88,"column":8}},{"generated":{"line":88,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":8}},{"name":"zoomPow","generated":{"line":88,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":12}},{"generated":{"line":88,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":19}},{"name":"t","generated":{"line":88,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":22}},{"generated":{"line":88,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":23}},{"name":"scale","generated":{"line":88,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":24}},{"generated":{"line":88,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":22}},{"generated":{"line":88,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":32}},{"name":"state","generated":{"line":88,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":37}},{"generated":{"line":88,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":32}},{"name":"worldSizeRatio","generated":{"line":88,"column":39},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":43}},{"generated":{"line":88,"column":53},"source":"../src/camera/cameraSync.js","original":{"line":90,"column":8}},{"generated":{"line":88,"column":54},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":88,"column":55},"source":"../src/camera/cameraSync.js","original":{"line":91,"column":8}},{"generated":{"line":90,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":8}},{"name":"scale","generated":{"line":90,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":12}},{"generated":{"line":90,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":17}},{"generated":{"line":90,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":20}},{"name":"Matrix4","generated":{"line":90,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":24}},{"generated":{"line":90,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":20}},{"generated":{"line":90,"column":36},"source":"../src/camera/cameraSync.js","original":{"line":92,"column":8}},{"generated":{"line":91,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":8}},{"name":"translateMap","generated":{"line":91,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":12}},{"generated":{"line":91,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":24}},{"generated":{"line":91,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":27}},{"name":"Matrix4","generated":{"line":91,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":31}},{"generated":{"line":91,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":27}},{"generated":{"line":91,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":93,"column":8}},{"generated":{"line":92,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":8}},{"name":"rotateMap","generated":{"line":92,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":12}},{"generated":{"line":92,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":21}},{"generated":{"line":92,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":24}},{"name":"Matrix4","generated":{"line":92,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":28}},{"generated":{"line":92,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":24}},{"generated":{"line":92,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":94,"column":8}},{"name":"scale","generated":{"line":93,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"name":"scale","generated":{"line":93,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"generated":{"line":93,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":13}},{"name":"makeScale","generated":{"line":93,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":14}},{"generated":{"line":93,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"name":"zoomPow","generated":{"line":93,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":24}},{"generated":{"line":93,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"name":"zoomPow","generated":{"line":93,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":33}},{"generated":{"line":93,"column":36},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"name":"zoomPow","generated":{"line":93,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":42}},{"generated":{"line":93,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":96,"column":8}},{"generated":{"line":94,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":8}},{"name":"x","generated":{"line":94,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":12}},{"generated":{"line":94,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":13}},{"name":"t","generated":{"line":94,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":16}},{"generated":{"line":94,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":17}},{"name":"x","generated":{"line":94,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":18}},{"generated":{"line":94,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":16}},{"name":"t","generated":{"line":94,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":23}},{"generated":{"line":94,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":24}},{"name":"point","generated":{"line":94,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":25}},{"generated":{"line":94,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":23}},{"name":"x","generated":{"line":94,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":31}},{"generated":{"line":94,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":98,"column":8}},{"generated":{"line":95,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":8}},{"name":"y","generated":{"line":95,"column":8},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":12}},{"generated":{"line":95,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":13}},{"name":"t","generated":{"line":95,"column":12},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":16}},{"generated":{"line":95,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":17}},{"name":"y","generated":{"line":95,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":18}},{"generated":{"line":95,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":16}},{"name":"t","generated":{"line":95,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":23}},{"generated":{"line":95,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":24}},{"name":"point","generated":{"line":95,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":25}},{"generated":{"line":95,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":23}},{"name":"y","generated":{"line":95,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":31}},{"generated":{"line":95,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":99,"column":8}},{"name":"translateMap","generated":{"line":96,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"name":"translateMap","generated":{"line":96,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"generated":{"line":96,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":20}},{"name":"makeTranslation","generated":{"line":96,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":21}},{"generated":{"line":96,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"generated":{"line":96,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":37}},{"name":"x","generated":{"line":96,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":38}},{"generated":{"line":96,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"name":"y","generated":{"line":96,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":41}},{"generated":{"line":96,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"generated":{"line":96,"column":40},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":44}},{"generated":{"line":96,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":100,"column":8}},{"name":"rotateMap","generated":{"line":97,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":8}},{"name":"rotateMap","generated":{"line":97,"column":4},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":8}},{"generated":{"line":97,"column":13},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":17}},{"name":"makeRotationZ","generated":{"line":97,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":18}},{"generated":{"line":97,"column":27},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":8}},{"name":"Math","generated":{"line":97,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":32}},{"generated":{"line":97,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":36}},{"name":"PI","generated":{"line":97,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":37}},{"generated":{"line":97,"column":35},"source":"../src/camera/cameraSync.js","original":{"line":101,"column":8}},{"generated":{"line":98,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":8}},{"name":"world","generated":{"line":98,"column":9},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":13}},{"generated":{"line":98,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":8}},{"name":"matrix","generated":{"line":98,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":19}},{"generated":{"line":98,"column":21},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":8}},{"generated":{"line":98,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"Matrix4","generated":{"line":98,"column":28},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":32}},{"generated":{"line":98,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"premultiply","generated":{"line":98,"column":45},"source":"../src/camera/cameraSync.js","original":{"line":104,"column":13}},{"generated":{"line":98,"column":56},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"rotateMap","generated":{"line":98,"column":57},"source":"../src/camera/cameraSync.js","original":{"line":104,"column":25}},{"generated":{"line":98,"column":66},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"premultiply","generated":{"line":98,"column":68},"source":"../src/camera/cameraSync.js","original":{"line":105,"column":13}},{"generated":{"line":98,"column":79},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"generated":{"line":98,"column":80},"source":"../src/camera/cameraSync.js","original":{"line":105,"column":25}},{"name":"state","generated":{"line":98,"column":85},"source":"../src/camera/cameraSync.js","original":{"line":105,"column":30}},{"generated":{"line":98,"column":90},"source":"../src/camera/cameraSync.js","original":{"line":105,"column":25}},{"name":"translateCenter","generated":{"line":98,"column":91},"source":"../src/camera/cameraSync.js","original":{"line":105,"column":36}},{"generated":{"line":98,"column":106},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"premultiply","generated":{"line":98,"column":108},"source":"../src/camera/cameraSync.js","original":{"line":106,"column":13}},{"generated":{"line":98,"column":119},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"scale","generated":{"line":98,"column":120},"source":"../src/camera/cameraSync.js","original":{"line":106,"column":25}},{"generated":{"line":98,"column":125},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"premultiply","generated":{"line":98,"column":127},"source":"../src/camera/cameraSync.js","original":{"line":107,"column":13}},{"generated":{"line":98,"column":138},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"name":"translateMap","generated":{"line":98,"column":139},"source":"../src/camera/cameraSync.js","original":{"line":107,"column":25}},{"generated":{"line":98,"column":151},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":28}},{"generated":{"line":98,"column":152},"source":"../src/camera/cameraSync.js","original":{"line":103,"column":8}},{"generated":{"line":98,"column":153},"source":"../src/camera/cameraSync.js","original":{"line":60,"column":32}},{"generated":{"line":98,"column":154},"source":"../src/camera/cameraSync.js","original":{"line":110,"column":8}},{"generated":{"line":99,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":111,"column":5}},{"generated":{"line":99,"column":3},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":23}},{"name":"calcCameraMatrix","generated":{"line":101,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":4}},{"name":"calcCameraMatrix","generated":{"line":101,"column":2},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":4}},{"generated":{"line":101,"column":18},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":20}},{"name":"pitch","generated":{"line":101,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":21}},{"generated":{"line":101,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":20}},{"name":"angle","generated":{"line":101,"column":26},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":28}},{"generated":{"line":101,"column":31},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":20}},{"name":"trz","generated":{"line":101,"column":33},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":35}},{"generated":{"line":101,"column":36},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":20}},{"generated":{"line":101,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":113,"column":40}},{"generated":{"line":102,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":8}},{"name":"t","generated":{"line":102,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":14}},{"generated":{"line":102,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":15}},{"generated":{"line":102,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":18}},{"name":"map","generated":{"line":102,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":23}},{"generated":{"line":102,"column":22},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":18}},{"name":"transform","generated":{"line":102,"column":23},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":27}},{"generated":{"line":102,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":114,"column":8}},{"generated":{"line":104,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":8}},{"name":"_pitch","generated":{"line":104,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":14}},{"generated":{"line":104,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":20}},{"name":"pitch","generated":{"line":104,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":24}},{"generated":{"line":104,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":29}},{"name":"undefined","generated":{"line":104,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":34}},{"generated":{"line":104,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":23}},{"name":"t","generated":{"line":104,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":47}},{"generated":{"line":104,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":48}},{"name":"_pitch","generated":{"line":104,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":49}},{"generated":{"line":104,"column":49},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":23}},{"name":"pitch","generated":{"line":104,"column":52},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":58}},{"generated":{"line":104,"column":57},"source":"../src/camera/cameraSync.js","original":{"line":115,"column":8}},{"generated":{"line":106,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":8}},{"name":"_angle","generated":{"line":106,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":14}},{"generated":{"line":106,"column":16},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":20}},{"name":"angle","generated":{"line":106,"column":19},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":24}},{"generated":{"line":106,"column":24},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":29}},{"name":"undefined","generated":{"line":106,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":34}},{"generated":{"line":106,"column":38},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":23}},{"name":"t","generated":{"line":106,"column":41},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":47}},{"generated":{"line":106,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":48}},{"name":"angle","generated":{"line":106,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":49}},{"generated":{"line":106,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":23}},{"name":"angle","generated":{"line":106,"column":51},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":57}},{"generated":{"line":106,"column":56},"source":"../src/camera/cameraSync.js","original":{"line":116,"column":8}},{"generated":{"line":108,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":8}},{"name":"_trz","generated":{"line":108,"column":10},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":14}},{"generated":{"line":108,"column":14},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":18}},{"name":"trz","generated":{"line":108,"column":17},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":22}},{"generated":{"line":108,"column":20},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":25}},{"name":"undefined","generated":{"line":108,"column":25},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":30}},{"generated":{"line":108,"column":34},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":21}},{"generated":{"line":108,"column":37},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":43}},{"name":"state","generated":{"line":108,"column":42},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":48}},{"generated":{"line":108,"column":47},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":43}},{"name":"cameraTranslateZ","generated":{"line":108,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":54}},{"generated":{"line":108,"column":64},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":21}},{"name":"trz","generated":{"line":108,"column":67},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":73}},{"generated":{"line":108,"column":70},"source":"../src/camera/cameraSync.js","original":{"line":117,"column":8}},{"generated":{"line":110,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":8}},{"generated":{"line":110,"column":11},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"name":"Matrix4","generated":{"line":110,"column":15},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":19}},{"generated":{"line":110,"column":29},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"name":"premultiply","generated":{"line":110,"column":32},"source":"../src/camera/cameraSync.js","original":{"line":120,"column":13}},{"generated":{"line":110,"column":43},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"name":"_trz","generated":{"line":110,"column":44},"source":"../src/camera/cameraSync.js","original":{"line":120,"column":25}},{"generated":{"line":110,"column":48},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"name":"premultiply","generated":{"line":110,"column":50},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":13}},{"generated":{"line":110,"column":61},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"generated":{"line":110,"column":62},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":25}},{"name":"Matrix4","generated":{"line":110,"column":66},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":29}},{"generated":{"line":110,"column":80},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":25}},{"name":"makeRotationX","generated":{"line":110,"column":83},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":39}},{"generated":{"line":110,"column":96},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":25}},{"name":"_pitch","generated":{"line":110,"column":97},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":53}},{"generated":{"line":110,"column":103},"source":"../src/camera/cameraSync.js","original":{"line":121,"column":25}},{"generated":{"line":110,"column":104},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"name":"premultiply","generated":{"line":110,"column":106},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":13}},{"generated":{"line":110,"column":117},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"generated":{"line":110,"column":118},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":25}},{"name":"Matrix4","generated":{"line":110,"column":122},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":29}},{"generated":{"line":110,"column":136},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":25}},{"name":"makeRotationZ","generated":{"line":110,"column":139},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":39}},{"generated":{"line":110,"column":152},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":25}},{"name":"_angle","generated":{"line":110,"column":153},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":53}},{"generated":{"line":110,"column":159},"source":"../src/camera/cameraSync.js","original":{"line":122,"column":25}},{"generated":{"line":110,"column":160},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":15}},{"generated":{"line":110,"column":161},"source":"../src/camera/cameraSync.js","original":{"line":119,"column":8}},{"generated":{"line":111,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":123,"column":5}},{"generated":{"line":113,"column":0},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":23}},{"generated":{"line":113,"column":1},"source":"../src/camera/cameraSync.js","original":{"line":40,"column":0}}],"sources":{"../src/camera/cameraSync.js":"\nimport { Group, Matrix4 } from 'three';\n\nimport utils from \"../utils/utils.js\";\n\nimport  ThreeboxConstants  from \"../utils/constants.js\";\n\nexport default function CameraSync(map, camera, world) {\n    this.map = map;\n    this.camera = camera;\n    this.active = true;\n\n    this.camera.matrixAutoUpdate = false;   // We're in charge of the camera now!\n\n    // Postion and configure the world group so we can scale it appropriately when the camera zooms\n    this.world = world || new Group();\n    this.world.position.x = this.world.position.y = ThreeboxConstants.WORLD_SIZE / 2\n    this.world.matrixAutoUpdate = false;\n\n    // set up basic camera state\n    this.state = {\n        fov: ThreeboxConstants.FOV,\n        translateCenter: new Matrix4().makeTranslation(ThreeboxConstants.WORLD_SIZE / 2, -ThreeboxConstants.WORLD_SIZE / 2, 0),\n        worldSizeRatio: ThreeboxConstants.TILE_SIZE / ThreeboxConstants.WORLD_SIZE\n    };\n\n    // Listen for move events from the map and update the js camera\n    var _this = this;\n    this.map\n        .on('move', function () {\n            _this.updateCamera()\n        })\n        .on('resize', function () {\n            _this.setupCamera();\n        })\n\n    this.setupCamera();\n}\n\nCameraSync.prototype = {\n    setupCamera: function () {\n\n        const t = this.map.transform;\n        this.camera.aspect = t.width / t.height; //bug fixed, if aspect is not reset raycast will fail on map resize\n        this.camera.updateProjectionMatrix();\n        const halfFov = this.state.fov / 2;\n        const offset = { x: t.width / 2, y: t.height / 2 };//t.centerOffset;\n        const cameraToCenterDistance = 0.5 / Math.tan(halfFov) * t.height;\n        const maxPitch = t._maxPitch * Math.PI / 180;\n        const acuteAngle = Math.PI / 2 - maxPitch;\n\n        this.state.cameraToCenterDistance = cameraToCenterDistance;\n        this.state.offset = offset;\n        this.state.cameraTranslateZ = new Matrix4().makeTranslation(0, 0, cameraToCenterDistance);\n        this.state.maxFurthestDistance = cameraToCenterDistance * 0.95 * (Math.cos(acuteAngle) * Math.sin(halfFov) / Math.sin(Math.max(0.01, Math.min(Math.PI - 0.01, acuteAngle - halfFov))) + 1);\n\n        this.updateCamera();\n    },\n\n    updateCamera: function (ev) {\n        if (!this.camera) {\n            console.log('nocamera')\n            return;\n        }\n\n        // Furthest distance optimized by @satorbs\n        // https://github.com/satorbs/threebox/blob/master/src/camera/CameraSync.js\n        const t = this.map.transform;\n        const groundAngle = Math.PI / 2 + t._pitch;\n        const fovAboveCenter = this.state.fov * (0.5 + this.state.offset.y / t.height);\n        const topHalfSurfaceDistance = Math.sin(fovAboveCenter) * this.state.cameraToCenterDistance / Math.sin(utils.clamp(Math.PI - groundAngle - fovAboveCenter, 0.01, Math.PI - 0.01));\n\n        // Calculate z distance of the farthest fragment that should be rendered.\n        const furthestDistance = Math.cos(Math.PI / 2 - t._pitch) * topHalfSurfaceDistance + this.state.cameraToCenterDistance;\n\n        // Add a bit extra to avoid precision problems when a fragment's distance is exactly `furthestDistance`\n        const farZ = Math.min(furthestDistance * 1.01, this.state.maxFurthestDistance);\n\n        // someday @ansis set further near plane to fix precision for deckgl,so we should fix it to use mapbox-gl v1.3+ correctly\n        // https://github.com/mapbox/mapbox-gl-js/commit/5cf6e5f523611bea61dae155db19a7cb19eb825c#diff-5dddfe9d7b5b4413ee54284bc1f7966d\n        const nearZ = (t.height / 50);\n\n        this.camera.projectionMatrix = utils.makePerspectiveMatrix(this.state.fov, t.width / t.height, nearZ, farZ);\n\n        // Unlike the Mapbox GL JS camera, separate camera translation and rotation out into its world matrix\n        // If this is applied directly to the projection matrix, it will work OK but break raycasting\n        var cameraWorldMatrix = this.calcCameraMatrix(t._pitch, t.angle);\n        this.camera.matrixWorld.copy(cameraWorldMatrix);\n\n        var zoomPow = t.scale * this.state.worldSizeRatio;\n        // Handle scaling and translation of objects in the map in the world's matrix transform, not the camera\n        var scale = new Matrix4;\n        var translateMap = new Matrix4;\n        var rotateMap = new Matrix4;\n\n        scale.makeScale(zoomPow, zoomPow, zoomPow);\n\n        var x = t.x || t.point.x;\n        var y = t.y || t.point.y;\n        translateMap.makeTranslation(-x, y, 0);\n        rotateMap.makeRotationZ(Math.PI);\n\n        this.world.matrix = new Matrix4()\n            .premultiply(rotateMap)\n            .premultiply(this.state.translateCenter)\n            .premultiply(scale)\n            .premultiply(translateMap)\n\n\n        // utils.prettyPrintMatrix(this.camera.projectionMatrix.elements);\n    },\n\n    calcCameraMatrix(pitch, angle, trz) {\n        const t = this.map.transform;\n        const _pitch = (pitch === undefined) ? t._pitch : pitch;\n        const _angle = (angle === undefined) ? t.angle : angle;\n        const _trz = (trz === undefined) ? this.state.cameraTranslateZ : trz;\n\n        return new Matrix4()\n            .premultiply(_trz)\n            .premultiply(new Matrix4().makeRotationX(_pitch))\n            .premultiply(new Matrix4().makeRotationZ(_angle));\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"00c43532c0d6dcc2c383ecd1f3e513a2","cacheData":{"env":{}}}